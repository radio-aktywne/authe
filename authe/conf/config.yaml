dsn: cockroach://root@${AUTHE_DB_ADDRESS:-authe-db:22000}/defaultdb?sslmode=disable

cookies:
  domain: ${AUTHE_COOKIE_DOMAIN:-localhost}

session:
  cookie:
    domain: ${AUTHE_COOKIE_DOMAIN:-localhost}

serve:
  public:
    port: ${AUTHE_PORT:-23000}
    base_url: ${AUTHE_AUTHGATE_PUBLIC_URL:-http://localhost:20000}/authe
  admin:
    port: ${AUTHE_ADMIN_PORT:-23001}

identity:
  default_schema_id: user
  schemas:
    - id: user
      url: file://./conf/user.schema.json

selfservice:
  default_browser_return_url: ${AUTHE_AUTHGATE_PUBLIC_URL:-http://localhost:20000}/ui/success
  methods:
    password:
      enabled: true
      config:
        haveibeenpwned_enabled: false
  flows:
    login:
      ui_url: ${AUTHE_AUTHGATE_PUBLIC_URL:-http://localhost:20000}/ui/login
    registration:
      ui_url: ${AUTHE_AUTHGATE_PUBLIC_URL:-http://localhost:20000}/ui/register
    error:
      ui_url: ${AUTHE_AUTHGATE_PUBLIC_URL:-http://localhost:20000}/ui/error
    settings:
      ui_url: ${AUTHE_AUTHGATE_PUBLIC_URL:-http://localhost:20000}/ui/settings

courier:
  smtp:
    connection_uri: smtps://foo:bar@0.0.0.0:0/
